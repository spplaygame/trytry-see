<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>教育浮誇升官大作戰</title>

  <!-- 預覽分享資訊 -->
  <meta property="og:title" content="教育浮誇升官大作戰｜看看你可以升到哪個官位！" />
  <meta property="og:description" content="輸入你的教育理念，評鑑分數＋浮誇官職＋Buzzword 抽卡！" />
  <meta property="og:image" content="https://i.imgur.com/YOUR_IMAGE.png" />
  <meta property="og:url" content="https://spplaygame.github.io/trytry-see/" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background: #fdfdfd;
      color: #333;
      padding: 2em;
      max-width: 720px;
      margin: auto;
    }
    textarea, input {
      width: 100%;
      margin-bottom: 1em;
      padding: 0.6em;
      font-size: 1rem;
    }
    button {
      padding: 0.5em 1em;
      font-size: 1rem;
      cursor: pointer;
      margin-bottom: 1.5em;
    }
    h2 {
      margin-top: 2em;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.3em;
    }
    .card {
      font-size: 1.2em;
      background: #f2f2f2;
      padding: 1em;
      border-radius: 0.5em;
      margin: 1em 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .highlight {
      color: #d93;
      font-weight: bold;
    }
    ul {
      padding-left: 1.5em;
    }
    em {
      font-style: italic;
    }
  </style>
</head>
<body>
  <h1>✨ 教育浮誇升官大作戰 ✨</h1>

  <label for="name">暱稱：</label>
  <input id="name" placeholder="匿名粉筆俠"/>

  <label for="idea">輸入你的教育理念：</label>
  <textarea id="idea" rows="4" placeholder="在學習生態系中鍛造全人發展矩陣..."></textarea>

  <button onclick="startEvaluation()">開始評鑑！</button>

  <div id="result" class="card"></div>

  <h2>🎰 Buzzword 抽卡結果</h2>
  <div id="card" class="card"></div>

  <h2>📚 個人成就展示牆</h2>
  <ul id="history"></ul>

<script>
const buzzWords = [
  "未來量子級","全域無縫","超維度","宇宙級","跨星系","元宇宙","頂規旗艦",
  "𓆏級","AI 驅動","區塊鏈化","四倍速","學習生態系","人才煉金術",
  "智慧雲端校園","真·全人發展矩陣","素養元件庫","潛能加速器",
  "教育黑科技","共振增幅","鏈結升頻","高維封裝","深度賦靈","裂變式擴散"
];

const rankLevels = [
  { threshold: 0, title: "🧹 代理代課老師", note: "還沒領編制，先加油 💪" },
  { threshold: 40, title: "📒 專任教師", note: "教案堆積如山中…" },
  { threshold: 60, title: "🗂 教學組長", note: "不上課卻更忙的那位" },
  { threshold: 80, title: "🧯 學務主任", note: "被家長跟學生兩頭燒 🔥" },
  { threshold: 100, title: "🏫 校長", note: "校務繁忙，但想退休 🧓" },
  { threshold: 120, title: "🕵️ 督學", note: "傳說中的突襲檢查者 👀" },
  { threshold: 140, title: "📊 教育司長", note: "講話要押韻、報告不能少字 ✍️" },
  { threshold: 160, title: "🌀 教育次長", note: "見證政策起落的男人／女人" },
  { threshold: 180, title: "👑 教育部長", note: "被全民檢討的神職 👑" }
];

function startEvaluation() {
  const name = (document.getElementById("name").value.trim() || "匿名粉筆俠").slice(0, 12);
  const idea = document.getElementById("idea").value.trim();
  if (!idea) return alert("請先輸入一段教育理念！");

  // 配分邏輯：buzzword 優先，字數補強，加入隨機性
  const buzzCount = buzzWords.reduce((acc, word) => {
    const re = new RegExp(word.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"), "gi");
    const matches = idea.match(re);
    return acc + (matches ? matches.length : 0);
  }, 0);

  const baseScore = buzzCount * 25;
  const lengthBonus = Math.min(idea.length, 60) * 0.3;
  const randomBonus = Math.floor(Math.random() * 20);
  const score = Math.round(baseScore + lengthBonus + randomBonus);

  // 決定官職
  const matchedRank = rankLevels.slice().reverse().find(r => score >= r.threshold);
  const rankTitle = matchedRank.title;
  const rankNote = matchedRank.note;

  // 額外建議
  let tip = "";
  if (score < 40) {
    tip = `<br><br><em style="color:#b00;">分數偏低，可多使用如「宇宙級」「AI驅動」「全人矩陣」等詞彙，<br>並將理念描述得更長、更狂、更有架勢 ✨</em>`;
  }

  document.getElementById("result").innerHTML =
    `${name} 的理念總分為 <span class="highlight">${score}</span> 分<br>
     官職預測：<strong>${rankTitle}</strong><br>
     <em>${rankNote}</em>${tip}`;

  // 抽卡
  const cardPool = [
    "高維共振者（SR）", "全人煉金魔導師（SSR）", "素養裂變導演（R）",
    "宇宙級願景召喚師（UR）", "教育黑洞鑄造師（LR）", "跨域連結術士（SSR）"
  ];
  const card = cardPool[Math.floor(Math.random() * cardPool.length)];
  document.getElementById("card").innerHTML =
    `你剛剛抽到了：<span class="highlight">${card}</span> 🎉`;

  // 儲存到 localStorage
  const history = JSON.parse(localStorage.getItem("eduBuzzHistory") || "[]");
  history.push({ name, score, rankTitle, card });
  localStorage.setItem("eduBuzzHistory", JSON.stringify(history));
  renderHistory();
}

function renderHistory() {
  const history = JSON.parse(localStorage.getItem("eduBuzzHistory") || "[]").slice(-10);
  const ul = document.getElementById("history");
  ul.innerHTML = "";
  history.reverse().forEach(entry => {
    const li = document.createElement("li");
    li.innerHTML = `${entry.name}｜${entry.score} 分｜${entry.rankTitle}｜抽到：<strong>${entry.card}</strong>`;
    ul.appendChild(li);
  });
}

renderHistory();
</script>
</body>
</html>
